{
  "info": {
    "name": "Talenx LLM Gateway",
    "description": "프롬프트 기반 자동 MCP 도구 선택을 지원하는 OpenAI LLM 게이트웨이",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "tlx_0123456789abcdef0123456789abcdef",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:1111/api/v1",
      "type": "string"
    },
    {
      "key": "apiKey",
      "value": "tlx_0123456789abcdef0123456789abcdef",
      "type": "string"
    },
    {
      "key": "ttid",
      "value": "your_jwt_token_here",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "통합 처리",
      "item": [
        {
          "name": "자동 도구 선택 처리",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Cookie",
                "value": "TTID={{ttid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"prompt\": \"평가 목록을 보여줘\",\n  \"model\": \"gpt-3.5-turbo\",\n  \"temperature\": 0.7,\n  \"maxTokens\": 1000\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/process",
              "host": ["{{baseUrl}}"],
              "path": ["process"]
            },
            "description": "LLM이 프롬프트를 분석하여 자동으로 MCP 도구를 선택하고 실행"
          }
        },
        {
          "name": "자동 도구 선택 처리 (스트리밍)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Cookie",
                "value": "TTID={{ttid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"prompt\": \"평가 결과를 분석해줘\",\n  \"model\": \"gpt-3.5-turbo\",\n  \"stream\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/process",
              "host": ["{{baseUrl}}"],
              "path": ["process"]
            },
            "description": "스트리밍으로 응답 받기"
          }
        },
        {
          "name": "단순 프롬프트 처리",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"prompt\": \"Node.js란 무엇인가요?\",\n  \"model\": \"gpt-3.5-turbo\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/prompt",
              "host": ["{{baseUrl}}"],
              "path": ["prompt"]
            },
            "description": "MCP 도구 없이 순수 LLM만 사용"
          }
        },
        {
          "name": "사용 가능한 도구 조회",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Cookie",
                "value": "TTID={{ttid}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/available-tools",
              "host": ["{{baseUrl}}"],
              "path": ["available-tools"]
            },
            "description": "현재 사용 가능한 MCP 도구 목록 조회"
          }
        }
      ]
    },
    {
      "name": "OpenAI",
      "item": [
        {
          "name": "Chat Completion",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"provider\": \"openai\",\n  \"model\": \"gpt-3.5-turbo\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"You are a helpful assistant.\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"안녕하세요!\"\n    }\n  ],\n  \"temperature\": 0.7,\n  \"maxTokens\": 500\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/llm/chat",
              "host": ["{{baseUrl}}"],
              "path": ["llm", "chat"]
            },
            "description": "OpenAI Chat API 직접 호출"
          }
        },
        {
          "name": "Chat Completion (스트리밍)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"provider\": \"openai\",\n  \"model\": \"gpt-3.5-turbo\",\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"JavaScript의 주요 특징을 설명해주세요.\"\n    }\n  ],\n  \"stream\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/llm/chat",
              "host": ["{{baseUrl}}"],
              "path": ["llm", "chat"]
            },
            "description": "스트리밍 응답"
          }
        },
        {
          "name": "Text Completion",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"provider\": \"openai\",\n  \"model\": \"gpt-3.5-turbo-instruct\",\n  \"prompt\": \"Once upon a time\",\n  \"maxTokens\": 100,\n  \"temperature\": 0.8\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/llm/complete",
              "host": ["{{baseUrl}}"],
              "path": ["llm", "complete"]
            },
            "description": "Text completion API"
          }
        },
        {
          "name": "사용량 통계",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/llm/usage?days=7",
              "host": ["{{baseUrl}}"],
              "path": ["llm", "usage"],
              "query": [
                {
                  "key": "days",
                  "value": "7"
                }
              ]
            },
            "description": "최근 7일간 토큰 사용량 통계"
          }
        },
        {
          "name": "지원 프로바이더 목록",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/llm/providers",
              "host": ["{{baseUrl}}"],
              "path": ["llm", "providers"]
            },
            "description": "지원되는 LLM 프로바이더 목록"
          }
        },
        {
          "name": "모델 목록",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/llm/models/openai",
              "host": ["{{baseUrl}}"],
              "path": ["llm", "models", "openai"]
            },
            "description": "OpenAI 모델 목록"
          }
        }
      ]
    },
    {
      "name": "MCP",
      "item": [
        {
          "name": "도구 목록 조회",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Cookie",
                "value": "TTID={{ttid}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/mcp/tools",
              "host": ["{{baseUrl}}"],
              "path": ["mcp", "tools"]
            },
            "description": "MCP 서버의 모든 도구 목록"
          }
        },
        {
          "name": "도구 직접 실행",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Cookie",
                "value": "TTID={{ttid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"get_appraisals\",\n  \"arguments\": {\n    \"page\": 1,\n    \"size\": 10,\n    \"status\": \"pending\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/mcp/tools/call",
              "host": ["{{baseUrl}}"],
              "path": ["mcp", "tools", "call"]
            },
            "description": "특정 MCP 도구를 직접 실행"
          }
        },
        {
          "name": "평가 응답 결과 조회",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Cookie",
                "value": "TTID={{ttid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"get_response_results\",\n  \"arguments\": {\n    \"appraisal_id\": 1,\n    \"group_id\": 1,\n    \"page\": 1,\n    \"size\": 10\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/mcp/tools/call",
              "host": ["{{baseUrl}}"],
              "path": ["mcp", "tools", "call"]
            },
            "description": "특정 평가 그룹의 응답 결과 조회"
          }
        },
        {
          "name": "MCP 서버 Health Check",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Cookie",
                "value": "TTID={{ttid}}",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/mcp/health",
              "host": ["{{baseUrl}}"],
              "path": ["mcp", "health"]
            },
            "description": "MCP 서버 상태 확인"
          }
        }
      ]
    },
    {
      "name": "인증",
      "item": [
        {
          "name": "API 키 생성 (테스트용)",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/api-key/generate",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "api-key", "generate"]
            },
            "description": "테스트용 API 키 생성 (서버에 저장되지 않음)"
          }
        },
        {
          "name": "API 키 검증",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"apiKey\": \"tlx_0123456789abcdef0123456789abcdef\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/api-key/validate",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "api-key", "validate"]
            },
            "description": "API 키 형식 검증"
          }
        },
        {
          "name": "API 키 정보",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/api-key/info",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "api-key", "info"]
            },
            "description": "현재 API 키 정보"
          }
        },
        {
          "name": "API 키 폐기 (정보용)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/api-key/revoke",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "api-key", "revoke"]
            },
            "description": "API 키 폐기 (실제로는 저장되지 않음)"
          }
        }
      ]
    },
    {
      "name": "Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:1111/health",
              "protocol": "http",
              "host": ["localhost"],
              "port": "1111",
              "path": ["health"]
            },
            "description": "서버 상태 확인"
          }
        }
      ]
    }
  ]
}